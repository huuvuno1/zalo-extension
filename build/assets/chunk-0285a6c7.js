import{r as i,j as e,c as g,R as T}from"./chunk-aa6f12be.js";function f({task:t,createTodo:n}){const[c,l]=i.useReducer((o,s)=>({...o,...s}),{task:""}),u=o=>{l({[o.target.name]:o.target.value})},m=o=>{o.preventDefault();const s={id:Math.random().toString(),task:c.task,completed:!1};n(s),l({task:""})};return e.jsxs("form",{className:"NewTodoForm",onSubmit:m,children:[e.jsx("label",{htmlFor:"task",children:"New todo"}),e.jsx("input",{value:c.task,onChange:u,id:"task",type:"text",name:"task",placeholder:"New Todo"}),e.jsx("button",{children:"Add Todo"})]})}function k({todo:t,remove:n,update:c,toggleComplete:l}){const[u,m]=i.useState(!1),[o,s]=i.useState(t.task),d=r=>{n(r.target.id)},a=()=>{m(!u)},p=r=>{r.preventDefault(),c(t.id,o),a()},x=r=>{s(r.target.value)},j=r=>{l(r.target.id)};let h;return u?h=e.jsx("div",{className:"Todo",children:e.jsxs("form",{className:"Todo-edit-form",onSubmit:p,children:[e.jsx("input",{onChange:x,value:o,type:"text"}),e.jsx("button",{children:"Save"})]})}):h=e.jsxs("div",{className:"Todo",children:[e.jsx("li",{id:t.id,onClick:j,className:t.completed?"Todo-task completed":"Todo-task",children:t.task}),e.jsxs("div",{className:"Todo-buttons",children:[e.jsx("button",{onClick:a,children:e.jsx("i",{className:"fas fa-pen"})}),e.jsx("button",{onClick:d,children:e.jsx("i",{id:t.id,className:"fas fa-trash"})})]})]}),h}function N(){const[t,n]=i.useState([]),c=s=>{console.log(s),n([...t,s])},l=s=>{n(t.filter(d=>d.id!==s))},u=(s,d)=>{const a=t.map(p=>p.id===s?{...p,task:d}:p);n(a)},m=s=>{const d=t.map(a=>a.id===s?{...a,completed:!a.completed}:a);n(d)},o=t.map(s=>e.jsx(k,{toggleComplete:m,update:u,remove:l,todo:s},s.id));return e.jsxs("div",{className:"TodoList",children:[e.jsxs("h1",{children:["Todo List ",e.jsx("span",{children:"A simple React Todo List App"})]}),e.jsx("ul",{children:o}),e.jsx(f,{createTodo:c})]})}const C=()=>{const[t,n]=i.useState(0);return i.useEffect(()=>{chrome.storage.sync.get(["count"],c=>{n(c.count||0)})},[]),i.useEffect(()=>{chrome.storage.sync.set({count:t}),chrome.runtime.sendMessage({type:"COUNT",count:t})},[t]),e.jsx("main",{children:e.jsx(N,{})})};g.createRoot(document.getElementById("app")).render(e.jsx(T.StrictMode,{children:e.jsx(C,{})}));
